Object.defineProperty(exports,"__esModule",{value:!0}),exports.Gmap=o,exports.GmapDOM=void 0;var n=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=e?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=n[o]}r.default=n,t&&t.set(n,r);return r}(require("react")),t=e(require("react-dom")),r=e(require("./lib"));function e(n){return n&&n.__esModule?n:{default:n}}function u(){if("function"!=typeof WeakMap)return null;var n=new WeakMap;return u=function(){return n},n}function o(t){var e=(0,n.useState)(),u=e[0],o=e[1],i=(0,n.useState)([]),c=i[0],f=i[1],a=(0,n.useRef)();return(0,n.useEffect)((function(){(0,r.default)(t.mapKey).then((function(n){n.createMap(a.current,{zoom:18,center:t.center||{lat:0,lng:0}}),o(n)}))}),[]),(0,n.useEffect)((function(){u&&(c.forEach((function(n){n.marker.setMap(null)})),t.markers.forEach((function(n,t){var r=c[t];r?(r.marker.setPosition({lat:n.lat,lng:n.lng}),r.marker.setMap(u.getMap())):c.push({marker:u.createMarker({icon:n.icon,position:{lat:n.lat,lng:n.lng}}),info:u.createInfoWindow({content:"<div>"+n.info+"</div>"})})})),f(c),u.createBound(t.markers))}),[u,t.markers]),n.default.createElement("div",{ref:a,className:"map-container",style:t.style})}o.defaultProps={markers:[],routes:[]};var i=[],c={render:function(r,e){var u=n.default.createElement(o,r);return i.push(u),t.default.render(u,e),u},unmount:function(n){t.default.unmountComponentAtNode(n)},unmountAll:function(){i.forEach((function(n){return t.default.unmountComponentAtNode(n)})),i=[]}};exports.GmapDOM=c;